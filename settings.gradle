rootProject.name = 'java-learning'

apply from: "gradle/config/modules.gradle"
apply from: "gradle/config/env.gradle"
apply from: "gradle/config/readme.gradle"

// Get all props by gradle.properties location
List<HashMap> dirListProps = ext.getFolderProps()
gradle.extensions.extraProperties.set("allFolderProps",dirListProps)

List<String> profileList = ["default","dev","loc","prd"]
gradle.extensions.extraProperties.set("profiles",profileList)

// Include module file
ext.addModuleAndServiceName(dirListProps)

///////////////////////////////////
// README.md automation
//////////////////////////////////
List<HashMap> readmeProps = ext.getModulePropByKeyValue("BUILD_README","true",dirListProps)
ext.buildReadmeEmptyFile(readmeProps)
ext.buildReadmeLanguageStructure(readmeProps)
///////////////////////////////////


///////////////////////////////////
// .env automation
//////////////////////////////////
List<HashMap> appEnv = ext.getModulePropByKeyValue("BUILD_ENV","true",dirListProps)

List<HashMap> profileEnv = ext.getModulePropByKeyValue("BUILD_PROFILE_ENV","true",appEnv)
ext.buildProfileEnvStructure(profileEnv)

List<HashMap> moduleEnvPath = ext.getModulePropByKeyValue("BUILD_ENV_PATH","true",appEnv)
ext.buildModuleEnvPathStructure(moduleEnvPath,dirListProps)

List<HashMap> moduleEnvProject = ext.getModulePropByKeyValue("BUILD_MODULE_ENV_PROJECT","true",appEnv)
ext.buildModuleEnvProjectStructure(moduleEnvProject)
///////////////////////////////////


